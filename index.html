<!doctype html>
<html lang="en" data-theme="auto">
<head>
<meta charset="utf-8" />
<meta name="viewport" content="width=device-width, initial-scale=1" />
<title>Javier Apaez Arcos ‚Äî iOS Developer</title>
<link rel="preconnect" href="https://fonts.googleapis.com">
<link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
<link href="https://fonts.googleapis.com/css2?family=Inter:wght@400;500;600;700;800&display=swap" rel="stylesheet">
<style>
  /* ===================== THEME TOKENS (LIGHT por defecto) ===================== */
  :root{
    --page:#eef0f3;
    --card:#ffffff;
    --ink:#0f172a;
    --muted:#616b75;
    --line:#e3e6ea;
    --brand:#0a84ff;         /* azul de acento / bot√≥n CV */
    --pill:#f2f5f8;
    --pill-accent: var(--brand);  /* features en azul */
    --radius-xl:26px;
    --radius:16px;
    --maxw:1040px;           /* ancho del contenido */
    --gap:24px;
    --btn:36px;
  }
  /* DARK overrides cuando html[data-theme="dark"] */
  [data-theme="dark"]{
    --page:#0e1116;
    --card:#151a21;
    --ink:#e8ecf1;
    --muted:#a0a9b3;
    --line:#273141;
    --brand:#4ea3ff;        /* acento en oscuro */
    --pill:#1b222c;
    --pill-accent: var(--brand);
  }
  /* AUTO: usa esquema del sistema cuando html[data-theme="auto"] */
  @media (prefers-color-scheme: dark){
    [data-theme="auto"]{
      --page:#0e1116;
      --card:#151a21;
      --ink:#e8ecf1;
      --muted:#a0a9b3;
      --line:#273141;
      --brand:#4ea3ff;
      --pill:#1b222c;
      --pill-accent: var(--brand);
    }
  }

  /* ===================== BASE ===================== */
  *{box-sizing:border-box}
  body{
    margin:0;background:var(--page);color:var(--ink);
    font:16px/1.6 "Inter", system-ui,-apple-system,Segoe UI,Roboto,Helvetica,Arial,sans-serif;
    -webkit-font-smoothing:antialiased; -moz-osx-font-smoothing:grayscale;
  }
  a{color:var(--brand);text-decoration:none}
  a:hover{text-decoration:underline}
  .wrap{max-width:var(--maxw);margin:0 auto;padding:24px}

  /* ===================== HERO ===================== */
  .hero{text-align:center;padding:32px 0 12px}
  .avatar{width:150px;height:150px;border-radius:50%;object-fit:cover;border:4px solid #fff}
  [data-theme="dark"] .avatar,
  @media (prefers-color-scheme: dark){
    [data-theme="auto"] .avatar{ border-color: var(--line); }
  }
  .title{font-size:clamp(34px,4.2vw,48px);margin:.6rem 0 .2rem;font-weight:800;letter-spacing:-.02em}
  .subtitle{color:var(--muted);margin:0 0 .6rem}
  .contact{color:var(--muted)}
  .contact a{color:var(--brand)}
  .cta{margin-top:12px;display:flex;gap:10px;justify-content:center;flex-wrap:wrap}
  .btn{display:inline-block;background:var(--brand);color:#fff;border:0;padding:10px 14px;border-radius:12px;font-weight:700}
  .btn.ghost{background:color-mix(in oklab, var(--brand) 8%, transparent);color:var(--ink);border:1px solid var(--line)}
  .btn:focus-visible{outline:3px solid color-mix(in oklab, var(--brand) 30%, transparent);outline-offset:2px}

  /* ===================== THEME SWITCHER ===================== */
  .theme-switch{
    margin:12px auto 0;
    display:inline-flex;border:1px solid var(--line);border-radius:999px;overflow:hidden;
  }
  .theme-switch button{
    background:transparent;border:0;padding:8px 12px;cursor:pointer;font-weight:700;color:var(--muted);
  }
  .theme-switch button[aria-pressed="true"]{
    background:var(--brand);color:#fff;
  }

  /* ===================== TITLES ===================== */
  h2{
    font-size:22px;margin:28px 0 12px;font-weight:800;letter-spacing:-.01em;text-align:center;
  }
  h3{margin:0 0 6px;font-weight:800;letter-spacing:-.01em}
  h4{margin:12px 0 6px;font-size:18px;font-weight:800}
  .muted{color:var(--muted)}

  /* ===================== PROJECT ROWS ===================== */
  .proj-row{
    display:grid;
    grid-template-columns: 460px 1fr;             /* NARROW | WIDE */
    grid-template-areas: "media about";
    gap:var(--gap); margin:0 0 28px; align-items:stretch;
  }
  .proj-row.reverse{
    grid-template-columns: 1fr 460px;             /* WIDE | NARROW */
    grid-template-areas: "about media";
  }
  @media (max-width:1000px){
    .proj-row, .proj-row.reverse{
      grid-template-columns:1fr;
      grid-template-areas:
        "media"
        "about";
    }
  }

  /* ===================== CARDS (sin bordes) ===================== */
  .card-xl{
    background:var(--card);
    border-radius:26px;
    padding:44px 40px; height:100%;
  }
  .card{
    background:var(--card);
    border-radius:var(--radius);
    padding:18px; margin:14px 0 22px;
  }

  /* Areas */
  .media-card{ grid-area:media; display:flex; flex-direction:column; align-items:center; padding:44px 40px; }
  .about-card{ grid-area:about; display:flex; flex-direction:column; }

  /* Media titles */
  .app-head{ text-align:center; margin-bottom:10px;}
  .app-title{ font-size:32px; font-weight:800; letter-spacing:-.02em; margin:0 0 2px;}
  .app-sub{ color:var(--muted); margin:0; font-weight:500;}

  /* Frame para centrar carrusel */
  .media-frame{ width:88%; max-width:360px; margin:0 auto; }

  /* ===================== CAROUSEL ===================== */
  .carousel{ position:relative; margin-top:2px; }
  .carousel-viewport{
    width:100%; overflow:hidden; border-radius:18px; background:transparent;
  }
  .carousel-track{ display:flex; gap:14px; transition:transform .35s ease; will-change:transform; }
  .slide{
    min-width:100%; width:100%;
    aspect-ratio: 9/16;       /* vertical completo */
    border:1px solid var(--line);
    display:flex; align-items:center; justify-content:center;
    background:var(--card);
  }
  .slide img{
    width:100%; height:100%;
    object-fit:contain;       /* imagen completa sin recorte */
    border-radius:0; display:block;
  }
  .nav-btn{
    position:absolute; top:50%; transform:translateY(-50%);
    width:var(--btn); height:var(--btn); border-radius:50%;
    border:1px solid var(--line); background:color-mix(in oklab, var(--card) 85%, #000 15%); color:var(--ink); font-weight:800;
    display:grid; place-items:center; cursor:pointer; user-select:none;
  }
  .nav-prev{ left:6px } .nav-next{ right:6px }
  .dots{ display:flex; gap:6px; justify-content:center; margin-top:8px }
  .dot{ width:8px; height:8px; border-radius:50%; background:color-mix(in oklab, var(--ink) 15%, transparent) }
  .dot.active{ background:var(--brand) }

  /* ===================== ABOUT ===================== */
  .about-title{ font-size:30px; font-weight:800; letter-spacing:-.02em; margin:4px 0 8px;}
  .about-p{ margin:0 0 10px; color:var(--ink); font-size:18px; line-height:1.7; }

  /* Tags (features y tech) */
  .tags{ display:flex; flex-wrap:wrap; gap:10px; margin:10px 0 0; }
  .tag{
    background:var(--pill); border:1px solid var(--line); color:#1f2a35;
    padding:8px 14px; border-radius:999px; font-size:13px; font-weight:700; white-space:nowrap;
  }
  .tag.accent{ background:var(--pill-accent); border-color:transparent; color:#fff; }

  /* ====== Fix: Tech Used visibles en modo oscuro ====== */
  .tags.tech .tag{ background:var(--pill); }
  [data-theme="dark"] .tags.tech .tag{
    color:#ffffff;
    border:1px solid rgba(255,255,255,.28);
    background: color-mix(in oklab, var(--card) 60%, #000 40%);
  }
  @media (prefers-color-scheme: dark){
    [data-theme="auto"] .tags.tech .tag{
      color:#ffffff;
      border:1px solid rgba(255,255,255,.28);
      background: color-mix(in oklab, var(--card) 60%, #000 40%);
    }
  }

  footer{ color:var(--muted); text-align:center; padding:28px 0 }

  /* ---------- Mobile comfort tweaks + botones con margen ---------- */
  @media (max-width: 560px) {
    .wrap { padding: 18px; }
    .hero { padding: 28px 0 10px; }
    .avatar { width: 120px; height: 120px; }
    .title {
      font-size: clamp(28px, 7.5vw, 36px);
      line-height: 1.15;
      margin: .5rem 0 .2rem;
      letter-spacing: -0.02em;
    }
    .subtitle {
      font-size: 14.5px;
      line-height: 1.55;
      margin-bottom: .6rem;
      padding: 0 6px;
    }
    .contact {
      font-size: 14px;
      display: flex; flex-wrap: wrap;
      gap: 6px 12px; justify-content: center;
      margin: 6px auto 0; max-width: 36ch;
    }
    .cta {
      margin-top: 14px;
      flex-direction: column;
      align-items: stretch;
      gap: 8px;
    }
    /* Botones con margen lateral (no full width) */
    .cta .btn {
      width: auto;
      max-width: 92%;
      margin: 0 auto;
      padding: 12px 14px;
    }
    /* Selector de tema centrado con margen, sin estirarse */
    .theme-switch {
      margin: 10px auto 0;
      display: inline-flex;
      max-width: 92%;
    }
    .proj-row, .proj-row.reverse { gap: 16px; margin-bottom: 22px; }
    .media-frame { width: 92%; max-width: 320px; }
    .app-title { font-size: 26px; }
    .app-sub { font-size: 14px; }
    .tag { padding: 7px 12px; font-size: 12.5px; }
    h2 { margin-top: 24px; }
  }
</style>
</head>
<body>

  <!-- HERO -->
  <header class="hero">
    <img class="avatar" src="https://media.licdn.com/dms/image/v2/D5603AQHU17gw49dR3w/profile-displayphoto-shrink_800_800/profile-displayphoto-shrink_800_800/0/1683599855643?e=1758153600&v=beta&t=WItfE2eueQ49Tv0mVwzglwECzf7Mspd0M9GNgIEtn0A" alt="Javier Apaez Arcos">
    <h1 class="title">Javier Apaez Arcos ‚Äî iOS Developer</h1>
    <p class="subtitle">I build and ship iOS apps end-to-end: architecture, APIs, UI/UX, analytics, and App Store release.</p>
    <p class="contact">
      üìß <a href="mailto:javier.apaez.ar@gmail.com">javier.apaez.ar@gmail.com</a> ¬∑
      üìû <a href="tel:+528671206530">+52 867 120 6530</a> ¬∑
      <a href="https://www.linkedin.com/in/javier-apaez-arcos">LinkedIn</a> ¬∑
      <a href="https://github.com/Javi-ios-dev">GitHub</a>
    </p>
    <div class="cta">
      <a class="btn" href="YOUR_CV_URL.pdf" target="_blank" rel="noopener">Download CV (PDF)</a>
      <a class="btn ghost" href="#projects">View Projects ‚Üì</a>
    </div>

    <!-- THEME SWITCHER -->
    <div class="theme-switch" role="group" aria-label="Theme">
      <button type="button" data-set-theme="light" aria-pressed="false" title="Light">Light</button>
      <button type="button" data-set-theme="auto"  aria-pressed="true"  title="Auto">Auto</button>
      <button type="button" data-set-theme="dark"  aria-pressed="false" title="Dark">Dark</button>
    </div>
  </header>

  <main class="wrap">

    <!-- PROJECTS -->
    <section id="projects">
      <h2>Projects</h2>

      <!-- Row 1 -->
      <div class="proj-row">
        <article class="card-xl media-card">
          <div class="app-head">
            <h3 class="app-title">Texas Child Support Calculator</h3>
            <p class="app-sub">Child support estimator app</p>
          </div>
          <div class="media-frame">
            <div class="carousel" data-carousel>
              <button class="nav-btn nav-prev" aria-label="Previous slide">‚Äπ</button>
              <div class="carousel-viewport">
                <div class="carousel-track">
                  <div class="slide"><img loading="lazy" src="https://is2-ssl.mzstatic.com/image/thumb/Purple118/v4/5b/4d/6f/5b4d6f94-edb8-666a-33b9-02849bb6fb45/pr_source.jpg/750x750bb.jpeg" alt="Texas 1"></div>
                  <div class="slide"><img loading="lazy" src="https://is3-ssl.mzstatic.com/image/thumb/Purple118/v4/49/59/6d/49596d6b-cf90-844b-b72c-a29e7825449b/pr_source.jpg/750x750bb.jpeg" alt="Texas 2"></div>
                  <div class="slide"><img loading="lazy" src="https://is5-ssl.mzstatic.com/image/thumb/Purple128/v4/41/61/dc/4161dc49-ab67-1656-eb40-61d108c6993d/pr_source.jpg/750x750bb.jpeg" alt="Texas 3"></div>
                  <div class="slide"><img loading="lazy" src="https://is4-ssl.mzstatic.com/image/thumb/Purple128/v4/cb/67/0b/cb670bac-5694-095b-bd45-74e5c24e41a1/pr_source.jpg/750x750bb.jpeg" alt="Texas 4"></div>
                  <div class="slide"><img loading="lazy" src="https://is5-ssl.mzstatic.com/image/thumb/Purple128/v4/f1/fb/0f/f1fb0f6c-bca0-2549-922a-27ba3308f938/pr_source.jpg/750x750bb.jpeg" alt="Texas 5"></div>
                </div>
              </div>
              <button class="nav-btn nav-next" aria-label="Next slide">‚Ä∫</button>
              <div class="dots"></div>
            </div>
          </div>
        </article>

        <article class="card-xl about-card">
          <h3 class="about-title">About</h3>
          <p class="about-p">iOS app that helps estimate child support payments aligned with Texas state guidelines.</p>
          <h4>A few basic features</h4>
          <div class="tags">
            <span class="tag accent">forms & validations</span>
            <span class="tag accent">edge-case logic</span>
            <span class="tag accent">persistent state</span>
            <span class="tag accent">App Store release</span>
          </div>
          <h4 style="margin-top:12px">Tech Used</h4>
          <div class="tags tech">
            <span class="tag">Swift</span><span class="tag">UIKit</span><span class="tag">Auto Layout</span>
            <span class="tag">MVVM</span><span class="tag">URLSession/REST</span><span class="tag">JSON</span>
          </div>
        </article>
      </div>

      <!-- Row 2 (intercalada) -->
      <div class="proj-row reverse">
        <article class="card-xl about-card">
          <h3 class="about-title">About</h3>
          <p class="about-p">News and live streaming app for a local TV station with categories, feeds and media playback.</p>
          <h4>A few basic features</h4>
          <div class="tags">
            <span class="tag accent">AVKit playback</span>
            <span class="tag accent">offline states</span>
            <span class="tag accent">responsive UI</span>
          </div>
          <h4 style="margin-top:12px">Tech Used</h4>
          <div class="tags tech">
            <span class="tag">Swift</span><span class="tag">UIKit / AVKit</span><span class="tag">MVVM</span><span class="tag">URLSession/REST</span>
          </div>
        </article>

        <article class="card-xl media-card">
          <div class="app-head">
            <h3 class="app-title">Nuevo Laredo TV</h3>
            <p class="app-sub">News & live streaming</p>
          </div>
          <div class="media-frame">
            <div class="carousel" data-carousel>
              <button class="nav-btn nav-prev" aria-label="Previous slide">‚Äπ</button>
              <div class="carousel-viewport">
                <div class="carousel-track">
                  <div class="slide"><img loading="lazy" src="http://is1-ssl.mzstatic.com/image/thumb/Purple71/v4/71/79/06/71790693-8562-cfdb-4506-bc95e28c0b79/pr_source.png/300x0w.webp" alt="NLTV 1"></div>
                  <div class="slide"><img loading="lazy" src="https://is1-ssl.mzstatic.com/image/thumb/Purple71/v4/b9/a1/bd/b9a1bde9-6ec3-8115-2fbb-35cd81fc11a3/pr_source.png/300x0w.webp" alt="NLTV 2"></div>
                  <div class="slide"><img loading="lazy" src="https://is1-ssl.mzstatic.com/image/thumb/Purple71/v4/5c/23/65/5c2365ca-3939-b4ea-d78c-c4601b1e0cf3/pr_source.png/300x0w.webp" alt="NLTV 3"></div>
                  <div class="slide"><img loading="lazy" src="https://is1-ssl.mzstatic.com/image/thumb/Purple71/v4/22/b5/f0/22b5f0f2-7683-b292-c0f0-3cd3e9b9cf6c/pr_source.png/300x0w.webp" alt="NLTV 4"></div>
                </div>
              </div>
              <button class="nav-btn nav-next" aria-label="Next slide">‚Ä∫</button>
              <div class="dots"></div>
            </div>
          </div>
        </article>
      </div>

      <!-- Row 3 (AstenApp) -->
      <div class="proj-row">
        <article class="card-xl media-card">
          <div class="app-head">
            <h3 class="app-title">AstenApp</h3>
            <p class="app-sub">Medical system (iOS + Laravel)</p>
          </div>
          <div class="media-frame">
            <div class="carousel" data-carousel>
              <button class="nav-btn nav-prev" aria-label="Previous slide">‚Äπ</button>
              <div class="carousel-viewport">
                <div class="carousel-track">
                  <div class="slide">
                    <img loading="lazy" src="https://astenapp.com/images/phone.png" alt="AstenApp screen">
                  </div>
                </div>
              </div>
              <button class="nav-btn nav-next" aria-label="Next slide">‚Ä∫</button>
              <div class="dots"></div>
            </div>
          </div>
        </article>

        <article class="card-xl about-card">
          <h3 class="about-title">About</h3>
          <p class="about-p">
            AstenApp is a medical system combining an iOS client with a Laravel backend. It supports
            patient records and secure video consultations. My work focused on the iOS client and
            the Twilio integration for reliable video calls.
          </p>
          <h4>Key bits</h4>
          <div class="tags">
            <span class="tag accent">Twilio video calls</span>
            <span class="tag accent">secure flows</span>
            <span class="tag accent">patient records</span>
          </div>
          <h4 style="margin-top:12px">Tech Used</h4>
          <div class="tags tech">
            <span class="tag">Swift</span><span class="tag">UIKit</span><span class="tag">VIPER</span>
            <span class="tag">Laravel</span><span class="tag">REST APIs</span><span class="tag">Twilio</span>
          </div>
        </article>
      </div>

    </section>

    <!-- EXPERIENCE -->
    <section>
      <h2>Experience</h2>

      <div class="card">
        <p><strong>iOS Developer ‚Äî Softtek</strong> ¬∑ Monterrey ¬∑ Aug 2023 ‚Äì Apr 30, 2025</p>
        <ul>
          <li>Integrated native iOS (Swift) modules into a React Native main app (Aerom√©xico).</li>
          <li>Dynamic flight information bottom sheets to improve engagement.</li>
          <li>Live flight maps and geo-tracking functionality.</li>
          <li>Document scanner with Vision to process visas securely.</li>
          <li>Cross-team collaboration with design/backend for consistent UX.</li>
        </ul>
        <p class="muted">Tools/Skills: Swift, Scrum, API-first</p>
      </div>

      <div class="card">
        <p><strong>iOS Developer ‚Äî UPAX</strong> ¬∑ Mexico ¬∑ Oct 2022 ‚Äì Jan 2023</p>
        <ul>
          <li>New feature development in internal iOS app (Swift/Xcode).</li>
          <li>Data visualization (Firebase) and external API integrations.</li>
          <li>VIPER architecture for scalable, maintainable modules.</li>
          <li>Bug fixing and iOS version compatibility (Alamofire/Pods).</li>
          <li>Key feature: real-time sales measurement for ‚ÄúBuen Fin‚Äù.</li>
        </ul>
        <p class="muted">Tools/Skills: Swift, Firebase, Alamofire, VIPER, Pods</p>
      </div>

      <div class="card">
        <p><strong>Full-Stack & iOS Developer ‚Äî GNA Strategy</strong> ¬∑ Nuevo Laredo ¬∑ Sep 2016 ‚Äì Oct 2022</p>
        <ul>
          <li>iOS (VIPER) and tech consultancy across multiple projects.</li>
          <li><em>Nuevo Laredo TV</em> (iOS): news app with categories and feeds.</li>
          <li><em>AstenApp</em>: medical system (Laravel + iOS), video calls with Twilio.</li>
          <li>Texas Child Support Calculator (published on the App Store).</li>
          <li>VR demo for training/retail with Unity/AR.</li>
        </ul>
        <p class="muted">Tools/Skills: Swift (iOS), Laravel, JavaScript, Unity, AR</p>
      </div>
    </section>

    <!-- SKILLS & EDUCATION -->
    <section>
      <h2>Skills</h2>
      <div class="card">
        <ul>
          <li><strong>iOS/Swift:</strong> UIKit, SwiftUI, Auto Layout, URLSession/REST, JSON, MVVM, VIPER</li>
          <li><strong>Release:</strong> App Store Connect, certificates/profiles, TestFlight</li>
          <li><strong>Backend/Full-stack:</strong> Laravel, JavaScript</li>
          <li><strong>Infra/Workflow:</strong> Git, CI/CD, Scrum</li>
          <li><strong>Other:</strong> Firebase, Alamofire, Vision, Unity/AR, Twilio</li>
          <li><strong>English:</strong> Intermediate</li>
        </ul>
      </div>
    </section>

    <section>
      <h2>Education</h2>
      <div class="card">
        <p><strong>Instituto Tecnol√≥gico de Nuevo Laredo</strong> ‚Äî Bachelor‚Äôs in Systems Engineering</p>
      </div>
    </section>
  </main>

  <footer>¬© <span id="yr"></span> Javier Apaez Arcos ‚Äî Built with HTML/CSS. Images belong to their respective owners.</footer>

<script>
  // ===================== Theme toggle =====================
  (function(){
    const html = document.documentElement;
    const KEY = 'theme-mode'; // 'light' | 'dark' | 'auto'
    const buttons = document.querySelectorAll('.theme-switch button');

    function setPressed(mode){
      buttons.forEach(btn=>{
        const active = btn.dataset.setTheme === mode;
        btn.setAttribute('aria-pressed', active ? 'true':'false');
      });
    }
    function apply(mode){
      html.setAttribute('data-theme', mode);
      setPressed(mode);
      try{ localStorage.setItem(KEY, mode); }catch(e){}
    }
    // init
    let saved = 'auto';
    try{
      const s = localStorage.getItem(KEY);
      if(s === 'light' || s === 'dark' || s === 'auto') saved = s;
    }catch(e){}
    apply(saved);

    buttons.forEach(btn=>{
      btn.addEventListener('click', ()=>{
        const mode = btn.dataset.setTheme;
        apply(mode);
      });
    });

    // Si est√° en auto, responde a cambios del sistema
    const mq = window.matchMedia('(prefers-color-scheme: dark)');
    mq.addEventListener?.('change', ()=>{
      const current = document.documentElement.getAttribute('data-theme');
      if(current === 'auto'){
        apply('auto'); // refresca variables v√≠a @media
      }
    });

    // A√±o footer
    document.getElementById('yr').textContent=new Date().getFullYear();
  })();

  // ===================== Carousel (1 imagen por vista) =====================
  function initCarousel(root){
    const track = root.querySelector('.carousel-track');
    const slides = Array.from(root.querySelectorAll('.slide'));
    const prev = root.querySelector('.nav-prev');
    const next = root.querySelector('.nav-next');
    const dotsWrap = root.querySelector('.dots');
    const viewport = root.querySelector('.carousel-viewport');
    if(!track || slides.length===0 || !viewport) return;

    const dots = slides.map((_,i)=>{
      const d=document.createElement('span');
      d.className='dot'+(i===0?' active':'');
      d.addEventListener('click',()=>goTo(i));
      dotsWrap.appendChild(d);
      return d;
    });

    let index=0, startX=0, currentX=0;
    const SWIPE=50, GAP=14;

    function update(){
      const vw = viewport.getBoundingClientRect().width;
      track.style.transform = `translateX(${-index * (vw + GAP)}px)`;
      dots.forEach((d,i)=>d.classList.toggle('active', i===index));
    }
    function goTo(i){
      index = Math.min(Math.max(0,i), slides.length-1);
      update();
    }
    const nextSlide = ()=>goTo(index+1);
    const prevSlide = ()=>goTo(index-1);

    prev?.addEventListener('click', prevSlide);
    next?.addEventListener('click', nextSlide);

    // Swipe t√°ctil
    track.addEventListener('touchstart', e=>{startX=e.touches[0].clientX},{passive:true});
    track.addEventListener('touchmove',  e=>{currentX=e.touches[0].clientX},{passive:true});
    track.addEventListener('touchend',   ()=>{
      const dx=currentX-startX; if(Math.abs(dx)>SWIPE) (dx<0?nextSlide():prevSlide());
      startX=currentX=0;
    });

    window.addEventListener('resize', update);
    update();
  }

  document.querySelectorAll('[data-carousel]').forEach(initCarousel);
</script>
</body>
</html>
